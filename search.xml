<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hexo快速入门</title>
      <link href="/2022/11/26/Hexo%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
      <url>/2022/11/26/Hexo%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo图片不显示问题解决方法</title>
      <link href="/2022/11/17/hexo%E5%9B%BE%E7%89%87%E4%B8%8D%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
      <url>/2022/11/17/hexo%E5%9B%BE%E7%89%87%E4%B8%8D%E6%98%BE%E7%A4%BA%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<blockquote><p>修改node_modules下的hexo-asset-image下的index.js</p></blockquote><p>初始代码备份<br><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&#x27;use</span> <span class="string">strict&#x27;;</span></span><br><span class="line"><span class="attr">var</span> <span class="string">cheerio = require(&#x27;cheerio&#x27;);</span></span><br><span class="line"></span><br><span class="line"><span class="attr">//</span> <span class="string">http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-string</span></span><br><span class="line"><span class="attr">function</span> <span class="string">getPosition(str, m, i) &#123;</span></span><br><span class="line">  <span class="attr">return</span> <span class="string">str.split(m, i).join(m).length;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">hexo.extend.filter.register(&#x27;after_post_render&#x27;,</span> <span class="string">function(data)&#123;</span></span><br><span class="line">  <span class="attr">var</span> <span class="string">config = hexo.config;</span></span><br><span class="line">  <span class="attr">if(config.post_asset_folder)&#123;</span></span><br><span class="line">    <span class="attr">var</span> <span class="string">link = data.permalink;</span></span><br><span class="line">    <span class="attr">var</span> <span class="string">beginPos = getPosition(link, &#x27;/&#x27;, 3) + 1;</span></span><br><span class="line">    <span class="attr">var</span> <span class="string">appendLink = &#x27;&#x27;;</span></span><br><span class="line">    <span class="attr">//</span> <span class="string">In hexo 3.1.1, the permalink of &quot;about&quot; page is like &quot;.../about/index.html&quot;.</span></span><br><span class="line">    <span class="attr">//</span> <span class="string">if not with index.html endpos = link.lastIndexOf(&#x27;.&#x27;) + 1 support hexo-abbrlink</span></span><br><span class="line">    <span class="attr">if(/.*\/index\.html$/.test(link))</span> <span class="string">&#123;</span></span><br><span class="line">      <span class="attr">//</span> <span class="string">when permalink is end with index.html, for example 2019/02/20/xxtitle/index.html</span></span><br><span class="line">      <span class="attr">//</span> <span class="string">image in xxtitle/ will go to xxtitle/index/</span></span><br><span class="line">      <span class="attr">appendLink</span> = <span class="string">&#x27;index/&#x27;;</span></span><br><span class="line">      <span class="attr">var</span> <span class="string">endPos = link.lastIndexOf(&#x27;/&#x27;);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">else</span> <span class="string">&#123;</span></span><br><span class="line">      <span class="attr">var</span> <span class="string">endPos = link.lastIndexOf(&#x27;.&#x27;);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">link</span> = <span class="string">link.substring(beginPos, endPos) + &#x27;/&#x27; + appendLink;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">var</span> <span class="string">toprocess = [&#x27;excerpt&#x27;, &#x27;more&#x27;, &#x27;content&#x27;];</span></span><br><span class="line">    <span class="attr">for(var</span> <span class="string">i = 0; i &lt; toprocess.length; i++)&#123;</span></span><br><span class="line">      <span class="attr">var</span> <span class="string">key = toprocess[i];</span></span><br><span class="line"></span><br><span class="line">      <span class="attr">var</span> <span class="string">$ = cheerio.load(data[key], &#123;</span></span><br><span class="line">        <span class="attr">ignoreWhitespace</span>: <span class="string">false,</span></span><br><span class="line">        <span class="attr">xmlMode</span>: <span class="string">false,</span></span><br><span class="line">        <span class="attr">lowerCaseTags</span>: <span class="string">false,</span></span><br><span class="line">        <span class="attr">decodeEntities</span>: <span class="string">false</span></span><br><span class="line">      <span class="attr">&#125;);</span></span><br><span class="line"></span><br><span class="line">      <span class="attr">$(&#x27;img&#x27;).each(function()&#123;</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">($(this).attr(&#x27;src&#x27;))&#123;</span></span><br><span class="line">          <span class="attr">//</span> <span class="string">For windows style path, we replace &#x27;\&#x27; to &#x27;/&#x27;.</span></span><br><span class="line">          <span class="attr">var</span> <span class="string">src = $(this).attr(&#x27;src&#x27;).replace(&#x27;\\&#x27;, &#x27;/&#x27;);</span></span><br><span class="line">          <span class="attr">if(!(/http[s]*.*|\/\/.*/.test(src)</span></span><br><span class="line">            <span class="attr">||</span> <span class="string">/^\s+\//.test(src)</span></span><br><span class="line">            <span class="attr">||</span> <span class="string">/^\s*\/uploads|images\//.test(src))) &#123;</span></span><br><span class="line">            <span class="attr">//</span> <span class="string">For &quot;about&quot; page, the first part of &quot;src&quot; can&#x27;t be removed.</span></span><br><span class="line">            <span class="attr">//</span> <span class="string">In addition, to support multi-level local directory.</span></span><br><span class="line">            <span class="attr">var</span> <span class="string">linkArray = link.split(&#x27;/&#x27;).filter(function(elem)&#123;</span></span><br><span class="line">              <span class="attr">return</span> <span class="string">elem != &#x27;&#x27;;</span></span><br><span class="line">            <span class="attr">&#125;);</span></span><br><span class="line">            <span class="attr">var</span> <span class="string">srcArray = src.split(&#x27;/&#x27;).filter(function(elem)&#123;</span></span><br><span class="line">              <span class="attr">return</span> <span class="string">elem != &#x27;&#x27; &amp;&amp; elem != &#x27;.&#x27;;</span></span><br><span class="line">            <span class="attr">&#125;);</span></span><br><span class="line">            <span class="attr">if(srcArray.length</span> <span class="string">&gt; 1)</span></span><br><span class="line">            <span class="attr">srcArray.shift();</span></span><br><span class="line">            <span class="attr">src</span> = <span class="string">srcArray.join(&#x27;/&#x27;);</span></span><br><span class="line"></span><br><span class="line">            <span class="attr">$(this).attr(&#x27;src&#x27;,</span> <span class="string">config.root + link + src);</span></span><br><span class="line">            <span class="attr">console.info&amp;&amp;console.info(&quot;update</span> <span class="string">link as:--&gt;&quot;+config.root + link + src);</span></span><br><span class="line">          <span class="attr">&#125;</span></span><br><span class="line">        <span class="attr">&#125;else&#123;</span></span><br><span class="line">          <span class="attr">console.info&amp;&amp;console.info(&quot;no</span> <span class="string">src attr, skipped...&quot;);</span></span><br><span class="line">          <span class="attr">console.info&amp;&amp;console.info($(this));</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">      <span class="attr">&#125;);</span></span><br><span class="line">      <span class="attr">data[key]</span> = <span class="string">$.html();</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">  <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;);</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><br>修改后的代码<br><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&#x27;use</span> <span class="string">strict&#x27;;</span></span><br><span class="line"><span class="attr">var</span> <span class="string">cheerio = require(&#x27;cheerio&#x27;);</span></span><br><span class="line"></span><br><span class="line"><span class="attr">//</span> <span class="string">http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-string</span></span><br><span class="line"><span class="attr">function</span> <span class="string">getPosition(str, m, i) &#123;</span></span><br><span class="line">  <span class="attr">return</span> <span class="string">str.split(m, i).join(m).length;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">var</span> <span class="string">version = String(hexo.version).split(&#x27;.&#x27;);</span></span><br><span class="line"><span class="attr">hexo.extend.filter.register(&#x27;after_post_render&#x27;,</span> <span class="string">function (data) &#123;</span></span><br><span class="line">  <span class="attr">var</span> <span class="string">config = hexo.config;</span></span><br><span class="line">  <span class="attr">if</span> <span class="string">(config.post_asset_folder) &#123;</span></span><br><span class="line">    <span class="attr">var</span> <span class="string">link = data.permalink;</span></span><br><span class="line">    <span class="attr">if</span> <span class="string">(version.length &gt; 0 &amp;&amp; Number(version[0]) == 3)</span></span><br><span class="line">      <span class="attr">var</span> <span class="string">beginPos = getPosition(link, &#x27;/&#x27;, 1) + 1;</span></span><br><span class="line">    <span class="attr">else</span></span><br><span class="line">      <span class="attr">var</span> <span class="string">beginPos = getPosition(link, &#x27;/&#x27;, 3) + 1;</span></span><br><span class="line">    <span class="attr">//</span> <span class="string">In hexo 3.1.1, the permalink of &quot;about&quot; page is like &quot;.../about/index.md&quot;.</span></span><br><span class="line">    <span class="attr">var</span> <span class="string">endPos = link.lastIndexOf(&#x27;/&#x27;) + 1;</span></span><br><span class="line">    <span class="attr">link</span> = <span class="string">link.substring(beginPos, endPos);</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">var</span> <span class="string">toprocess = [&#x27;excerpt&#x27;, &#x27;more&#x27;, &#x27;content&#x27;];</span></span><br><span class="line">    <span class="attr">for</span> <span class="string">(var i = 0; i &lt; toprocess.length; i++) &#123;</span></span><br><span class="line">      <span class="attr">var</span> <span class="string">key = toprocess[i];</span></span><br><span class="line"></span><br><span class="line">      <span class="attr">var</span> <span class="string">$ = cheerio.load(data[key], &#123;</span></span><br><span class="line">        <span class="attr">ignoreWhitespace</span>: <span class="string">false,</span></span><br><span class="line">        <span class="attr">xmlMode</span>: <span class="string">false,</span></span><br><span class="line">        <span class="attr">lowerCaseTags</span>: <span class="string">false,</span></span><br><span class="line">        <span class="attr">decodeEntities</span>: <span class="string">false</span></span><br><span class="line">      <span class="attr">&#125;);</span></span><br><span class="line"></span><br><span class="line">      <span class="attr">$(&#x27;img&#x27;).each(function</span> <span class="string">() &#123;</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">($(this).attr(&#x27;src&#x27;)) &#123;</span></span><br><span class="line">          <span class="attr">//</span> <span class="string">For windows style path, we replace &#x27;\&#x27; to &#x27;/&#x27;.</span></span><br><span class="line">          <span class="attr">var</span> <span class="string">src = $(this).attr(&#x27;src&#x27;).replace(&#x27;\\&#x27;, &#x27;/&#x27;);</span></span><br><span class="line">          <span class="attr">if</span> <span class="string">(!/http[s]*.*|\/\/.*/.test(src) &amp;&amp;</span></span><br><span class="line"><span class="comment">            !/^\s*\//.test(src)) &#123;</span></span><br><span class="line">            <span class="attr">//</span> <span class="string">For &quot;about&quot; page, the first part of &quot;src&quot; can&#x27;t be removed.</span></span><br><span class="line">            <span class="attr">//</span> <span class="string">In addition, to support multi-level local directory.</span></span><br><span class="line">            <span class="attr">var</span> <span class="string">linkArray = link.split(&#x27;/&#x27;).filter(function (elem) &#123;</span></span><br><span class="line">              <span class="attr">return</span> <span class="string">elem != &#x27;&#x27;;</span></span><br><span class="line">            <span class="attr">&#125;);</span></span><br><span class="line">            <span class="attr">var</span> <span class="string">srcArray = src.split(&#x27;/&#x27;).filter(function (elem) &#123;</span></span><br><span class="line">              <span class="attr">return</span> <span class="string">elem != &#x27;&#x27; &amp;&amp; elem != &#x27;.&#x27;;</span></span><br><span class="line">            <span class="attr">&#125;);</span></span><br><span class="line">            <span class="attr">if</span> <span class="string">(srcArray.length &gt; 1)</span></span><br><span class="line">              <span class="attr">srcArray.shift();</span></span><br><span class="line">            <span class="attr">src</span> = <span class="string">srcArray.join(&#x27;/&#x27;);</span></span><br><span class="line">            <span class="attr">$(this).attr(&#x27;src&#x27;,</span> <span class="string">config.root + link + src);</span></span><br><span class="line">            <span class="attr">console.info</span> <span class="string">&amp;&amp; console.info(&quot;update link as:--&gt;&quot; + config.root + link + src);</span></span><br><span class="line">          <span class="attr">&#125;</span></span><br><span class="line">        <span class="attr">&#125;</span> <span class="string">else &#123;</span></span><br><span class="line">          <span class="attr">console.info</span> <span class="string">&amp;&amp; console.info(&quot;no src attr, skipped...&quot;);</span></span><br><span class="line">          <span class="attr">console.info</span> <span class="string">&amp;&amp; console.info($(this));</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">      <span class="attr">&#125;);</span></span><br><span class="line">      <span class="attr">data[key]</span> = <span class="string">$.html();</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">  <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;);</span> <span class="string"></span></span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo-asset-image插件bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>免费插件收录</title>
      <link href="/2022/11/17/%E5%85%8D%E8%B4%B9%E6%8F%92%E4%BB%B6%E6%94%B6%E5%BD%95/"/>
      <url>/2022/11/17/%E5%85%8D%E8%B4%B9%E6%8F%92%E4%BB%B6%E6%94%B6%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h1 id="平时工作中常用的一些在线使用的插件，推荐给大家："><a href="#平时工作中常用的一些在线使用的插件，推荐给大家：" class="headerlink" title="平时工作中常用的一些在线使用的插件，推荐给大家："></a>平时工作中常用的一些在线使用的插件，推荐给大家：</h1><h2 id="1-免费的压缩软件（图片压缩，视频压缩，PDF-压缩，Word-压缩，PPT-压缩）"><a href="#1-免费的压缩软件（图片压缩，视频压缩，PDF-压缩，Word-压缩，PPT-压缩）" class="headerlink" title="1.免费的压缩软件（图片压缩，视频压缩，PDF 压缩，Word 压缩，PPT 压缩）"></a>1.免费的压缩软件（图片压缩，视频压缩，PDF 压缩，Word 压缩，PPT 压缩）</h2><p><a href="https://yasuo.xunjiepdf.com/img/">https://yasuo.xunjiepdf.com/img/</a><br><img src="https://img-blog.csdnimg.cn/6dfe0d90866d449ebdf9d2e73fe02526.jpeg" alt="图片"></p><h2 id="2-文件的相互转换（jpg-转-png，pdf-转-doc，viddo，audio-等等）"><a href="#2-文件的相互转换（jpg-转-png，pdf-转-doc，viddo，audio-等等）" class="headerlink" title="2.文件的相互转换（jpg 转 png，pdf 转 doc，viddo，audio 等等）"></a>2.文件的相互转换（jpg 转 png，pdf 转 doc，viddo，audio 等等）</h2><p><a href="https://www.aconvert.com">https://www.aconvert.com</a><br><img src="https://img-blog.csdnimg.cn/a7468d9968da4a4cbfa1710443bb9ee0.jpeg" alt="图片"></p><h2 id="3-快速、简单的在线修改图片工具-改图宝（修改图片尺寸，压缩图片）"><a href="#3-快速、简单的在线修改图片工具-改图宝（修改图片尺寸，压缩图片）" class="headerlink" title="3.快速、简单的在线修改图片工具 - 改图宝（修改图片尺寸，压缩图片）"></a>3.快速、简单的在线修改图片工具 - 改图宝（修改图片尺寸，压缩图片）</h2><p><a href="https://www.gaitubao.com/">https://www.gaitubao.com/</a><br><img src="https://img-blog.csdnimg.cn/63f6839dde8d4da39e984da8e7590b74.jpeg" alt="图片"></p><h2 id="4-Squoosh（压缩图片）"><a href="#4-Squoosh（压缩图片）" class="headerlink" title="4. Squoosh（压缩图片）"></a>4. Squoosh（压缩图片）</h2><p><a href="https://squoosh.app/">https://squoosh.app/</a><br><img src="https://img-blog.csdnimg.cn/f70eb2bb367d47b98ee61c8aa40189f9.jpeg" alt="图片"></p><h2 id="5-ABCD-PDF-在线转换工具（支持各种文件转换，压缩，编辑，合并，签名）"><a href="#5-ABCD-PDF-在线转换工具（支持各种文件转换，压缩，编辑，合并，签名）" class="headerlink" title="5. ABCD PDF 在线转换工具（支持各种文件转换，压缩，编辑，合并，签名）"></a>5. ABCD PDF 在线转换工具（支持各种文件转换，压缩，编辑，合并，签名）</h2><p><a href="https://abcdpdf.com/zh-cn/">https://abcdpdf.com/zh-cn/</a><br><img src="https://img-blog.csdnimg.cn/8283f5ca44904103afb95365eccbb957.jpeg" alt="图片"></p><h2 id="6-时间戳转换"><a href="#6-时间戳转换" class="headerlink" title="6.时间戳转换"></a>6.时间戳转换</h2><p><a href="https://tool.lu/timestamp/">https://tool.lu/timestamp/</a><br><img src="https://img-blog.csdnimg.cn/e9b6eee6d62f4a04b8ca5ab0ed0e024d.jpeg" alt="图片"></p><h2 id="7-Undraw（免费的-SVG-插图）"><a href="#7-Undraw（免费的-SVG-插图）" class="headerlink" title="7. Undraw（免费的 SVG 插图）"></a>7. Undraw（免费的 SVG 插图）</h2><p><a href="https://undraw.co/">https://undraw.co/</a><br><img src="https://img-blog.csdnimg.cn/bc6b79451441499c91fad7cb0465d271.jpeg" alt="图片"></p><h2 id="8-iconfont（阿里巴巴矢量图标库，字体库）"><a href="#8-iconfont（阿里巴巴矢量图标库，字体库）" class="headerlink" title="8. iconfont（阿里巴巴矢量图标库，字体库）"></a>8. iconfont（阿里巴巴矢量图标库，字体库）</h2><p><a href="https://www.iconfont.cn/">https://www.iconfont.cn/</a><br><img src="https://img-blog.csdnimg.cn/cdaa26f3a3fb4830b9c1920aaa9d4119.jpeg" alt="图片"></p><h2 id="9-5-个免费的字体下载网站！无版权可商用字体合集！"><a href="#9-5-个免费的字体下载网站！无版权可商用字体合集！" class="headerlink" title="9. 5 个免费的字体下载网站！无版权可商用字体合集！"></a>9. 5 个免费的字体下载网站！无版权可商用字体合集！</h2><p><a href="https://baijiahao.baidu.com/s?id=1742187102598227474&amp;wfr=spider&amp;for=pc">https://baijiahao.baidu.com/s?id=1742187102598227474&amp;wfr=spider&amp;for=pc</a></p><h2 id="9-菜鸟工具"><a href="#9-菜鸟工具" class="headerlink" title="9. 菜鸟工具"></a>9. 菜鸟工具</h2><p><a href="https://c.runoob.com/">https://c.runoob.com/</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 在线工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>markDown编辑与预览(mavon-editor)</title>
      <link href="/2022/11/15/markDown%E7%BC%96%E8%BE%91%E4%B8%8E%E9%A2%84%E8%A7%88-mavon-editor/"/>
      <url>/2022/11/15/markDown%E7%BC%96%E8%BE%91%E4%B8%8E%E9%A2%84%E8%A7%88-mavon-editor/</url>
      
        <content type="html"><![CDATA[<p><a name="XSLx7"></a></p><h1 id="1-pc-端-提供配置和预览两个功能"><a href="#1-pc-端-提供配置和预览两个功能" class="headerlink" title="1.pc 端,提供配置和预览两个功能"></a>1.pc 端,提供配置和预览两个功能</h1><p><a name="zPIXS"></a></p><h3 id="1-配置公共组件"><a href="#1-配置公共组件" class="headerlink" title="1.配置公共组件"></a>1.配置公共组件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">type</span>=<span class="string">&quot;flex&quot;</span> <span class="attr">justify</span>=<span class="string">&quot;space-between&quot;</span> <span class="attr">class</span>=<span class="string">&quot;edit-main&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">mavon-editor</span> <span class="attr">v-show</span>=<span class="string">&quot;document.type === &#x27;markdown&#x27;&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;armd&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;document.content&quot;</span> <span class="attr">:toolbars</span>=<span class="string">&quot;mdToolbars&quot;</span> <span class="attr">:box-shadow</span>=<span class="string">&quot;false&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mavon-editor&quot;</span> @<span class="attr">imgAdd</span>=<span class="string">&quot;$imgAdd&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;document.type === &#x27;html&#x27;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;wang-editor&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">:id</span>=<span class="string">&quot;editorId + &#x27;toobar&#x27;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;toolbar&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">:id</span>=<span class="string">&quot;editorId + &#x27;text&#x27;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;text&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> mavonEditor <span class="keyword">from</span> <span class="string">&#x27;mavon-editor&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="string">&#x27;mavon-editor/dist/css/index.css&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> E <span class="keyword">from</span> <span class="string">&#x27;wangeditor&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; uploadImg &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/monitor/guide&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="title class_">Vue</span>.<span class="title function_">use</span>(mavonEditor)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;Mavon&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">document</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">type</span>: <span class="title class_">Object</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">default</span>: <span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">content</span>: <span class="string">&#x27;&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">type</span>: <span class="string">&#x27;&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">editorId</span>: <span class="string">&#x27;wang-editor-&#x27;</span> + (<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1000</span>).<span class="title function_">toFixed</span>(<span class="number">0</span>),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">editor</span>: <span class="literal">undefined</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">mdToolbars</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">bold</span>: <span class="literal">true</span>, <span class="comment">// 粗体</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">italic</span>: <span class="literal">true</span>, <span class="comment">// 斜体</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">header</span>: <span class="literal">true</span>, <span class="comment">// 标题</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">underline</span>: <span class="literal">true</span>, <span class="comment">// 下划线</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">strikethrough</span>: <span class="literal">true</span>, <span class="comment">// 中划线</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">mark</span>: <span class="literal">true</span>, <span class="comment">// 标记</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">superscript</span>: <span class="literal">true</span>, <span class="comment">// 上角标</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">subscript</span>: <span class="literal">true</span>, <span class="comment">// 下角标</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">quote</span>: <span class="literal">true</span>, <span class="comment">// 引用</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">ol</span>: <span class="literal">true</span>, <span class="comment">// 有序列表</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">ul</span>: <span class="literal">true</span>, <span class="comment">// 无序列表</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">link</span>: <span class="literal">true</span>, <span class="comment">// 链接</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">imagelink</span>: <span class="literal">true</span>, <span class="comment">// 图片链接</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">code</span>: <span class="literal">true</span>, <span class="comment">// code</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">table</span>: <span class="literal">true</span>, <span class="comment">// 表格</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">fullscreen</span>: <span class="literal">true</span>, <span class="comment">// 全屏编辑</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">readmodel</span>: <span class="literal">true</span>, <span class="comment">// 沉浸式阅读</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">htmlcode</span>: <span class="literal">true</span>, <span class="comment">// 展示html源码</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">help</span>: <span class="literal">true</span>, <span class="comment">// 帮助</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">/* 1.3.5 */</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">undo</span>: <span class="literal">true</span>, <span class="comment">// 上一步</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">redo</span>: <span class="literal">true</span>, <span class="comment">// 下一步</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">trash</span>: <span class="literal">true</span>, <span class="comment">// 清空</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">/* 1.4.2 */</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">navigation</span>: <span class="literal">true</span>, <span class="comment">// 导航目录</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">/* 2.1.8 */</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">alignleft</span>: <span class="literal">true</span>, <span class="comment">// 左对齐</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">aligncenter</span>: <span class="literal">true</span>, <span class="comment">// 居中</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">alignright</span>: <span class="literal">true</span>, <span class="comment">// 右对齐</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">/* 2.2.1 */</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">subfield</span>: <span class="literal">true</span>, <span class="comment">// 单双栏模式</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">preview</span>: <span class="literal">true</span> <span class="comment">// 预览</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    $imgAdd(pos, $file) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 第一步.将图片上传到服务器.</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">var</span> formdata = <span class="keyword">new</span> <span class="title class_">FormData</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      formdata.<span class="title function_">append</span>(<span class="string">&#x27;file&#x27;</span>, $file)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">uploadImg</span>(formdata).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// 第二步.将返回的url替换到文本原位置![...](0) -&gt; ![...](url)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">/**</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">        * $vm 指为mavonEditor实例，可以通过如下两种方式获取</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">        * 1. 通过引入对象获取: `import &#123;mavonEditor&#125; from ...` 等方式引入后，`$vm`为`mavonEditor`</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">        * 2. 通过$refs获取: html声明ref : `&lt;mavon-editor ref=md &gt;&lt;/mavon-editor&gt;，`$vm`为 `this.$refs.md`</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">        */</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">armd</span>.$img2Url(pos, res.<span class="property">data</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">wangEditorInit</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">editor</span> = <span class="keyword">new</span> <span class="title function_">E</span>(</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;#&#x27;</span> + <span class="variable language_">this</span>.<span class="property">editorId</span> + <span class="string">&#x27;toobar&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;#&#x27;</span> + <span class="variable language_">this</span>.<span class="property">editorId</span> + <span class="string">&#x27;text&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      )</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">editor</span>.<span class="property">config</span>.<span class="property">onchangeTimeout</span> = <span class="number">500</span> <span class="comment">// 单位 ms</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">editor</span>.<span class="property">config</span>.<span class="property">onchange</span> = <span class="function"><span class="params">content</span> =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">document</span>.<span class="property">type</span> === <span class="string">&#x27;html&#x27;</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">this</span>.<span class="property">document</span>.<span class="property">content</span> = content</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 注册菜单</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">const</span> toolbars = [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;head&#x27;</span>, <span class="comment">// 标题</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;bold&#x27;</span>, <span class="comment">// 粗体</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;fontSize&#x27;</span>, <span class="comment">// 字号</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;fontName&#x27;</span>, <span class="comment">// 字体</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;italic&#x27;</span>, <span class="comment">// 斜体</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;underline&#x27;</span>, <span class="comment">// 下划线</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;strikeThrough&#x27;</span>, <span class="comment">// 删除线</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;indent&#x27;</span>, <span class="comment">// 设置缩进</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;lineHeight&#x27;</span>, <span class="comment">// 设置行高</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;foreColor&#x27;</span>, <span class="comment">// 文字颜色</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;backColor&#x27;</span>, <span class="comment">// 背景颜色</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;link&#x27;</span>, <span class="comment">// 插入链接</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;list&#x27;</span>, <span class="comment">// 列表</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;justify&#x27;</span>, <span class="comment">// 对齐方式</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;quote&#x27;</span>, <span class="comment">// 引用</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;image&#x27;</span>, <span class="comment">// 插入图片</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;table&#x27;</span>, <span class="comment">// 表格</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;code&#x27;</span>, <span class="comment">// 插入代码</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;splitLine&#x27;</span>, <span class="comment">// 分割线</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;undo&#x27;</span>, <span class="comment">// 撤销</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;redo&#x27;</span> <span class="comment">// 重复</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      ]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">editor</span>.<span class="property">config</span>.<span class="property">menus</span> = toolbars</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">editor</span>.<span class="property">config</span>.<span class="property">focus</span> = <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">editor</span>.<span class="property">config</span>.<span class="property">uploadFileName</span> = <span class="string">&#x27;file&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">editor</span>.<span class="property">config</span>.<span class="property">uploadImgServer</span> = <span class="string">&#x27;/app/oss/image/upload&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">editor</span>.<span class="property">config</span>.<span class="property">zIndex</span> = <span class="number">1</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">editor</span>.<span class="property">config</span>.<span class="property">border</span> = <span class="number">0</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">editor</span>.<span class="property">config</span>.<span class="property">placeholder</span> = <span class="string">&#x27;开始编辑...&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 菜单栏提示为下标</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">editor</span>.<span class="property">config</span>.<span class="property">menuTooltipPosition</span> = <span class="string">&#x27;down&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">editor</span>.<span class="property">config</span>.<span class="property">uploadImgHooks</span> = &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">customInsert</span>: <span class="keyword">function</span> (<span class="params">insertImgFn, result</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// result 即服务端返回的接口</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">if</span> (result.<span class="property">success</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">// insertImgFn 可把图片插入到编辑器，传入图片 src ，执行函数即可</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">insertImgFn</span>(result.<span class="property">data</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">editor</span>.<span class="title function_">create</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">setHtmlContent</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">document</span>.<span class="property">type</span> === <span class="string">&#x27;html&#x27;</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">editor</span>.<span class="property">txt</span>.<span class="title function_">html</span>(<span class="variable language_">this</span>.<span class="property">document</span>.<span class="property">content</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">watch</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.edit-main</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">height</span>: <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">63px</span>);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.wang-editor</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.toolbar</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">height</span>: <span class="number">41px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">min-width</span>: <span class="number">860px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">width</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#f2f6fc</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.text</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">height</span>: <span class="built_in">calc</span>(<span class="number">100vh</span> - <span class="number">110px</span>);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="comment">/* 屏幕小于1440px */</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">1000px</span>) &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="selector-class">.w-e-text</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">20px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="comment">/* 屏幕大于1440px */</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">1000px</span>) &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="selector-class">.w-e-text</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">padding</span>: <span class="number">0</span> <span class="built_in">calc</span>((<span class="number">100vw</span> - <span class="number">1000px</span>) / <span class="number">2</span>);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.mavon-editor</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">height</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><a name="pZJy1"></a></p><h3 id="2-预览公共组件"><a href="#2-预览公共组件" class="headerlink" title="2.预览公共组件"></a>2.预览公共组件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;document-show&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;document.type === &#x27;html&#x27;&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;showContent&quot;</span> <span class="attr">class</span>=<span class="string">&quot;show-html&quot;</span> <span class="attr">style</span>=<span class="string">&quot;padding:12px&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;htmlImageClick&quot;</span> <span class="attr">v-html</span>=<span class="string">&quot;document.content&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">&quot;document.type === &#x27;markdown&#x27;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">mavon-editor</span> <span class="attr">ref</span>=<span class="string">&quot;showContent&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;document.content&quot;</span> <span class="attr">:preview-background</span>=<span class="string">&quot;&#x27;#fff&#x27;&quot;</span> <span class="attr">:subfield</span>=<span class="string">&quot;false&quot;</span> <span class="attr">:box-shadow</span>=<span class="string">&quot;false&quot;</span> <span class="attr">:default-open</span>=<span class="string">&quot;&#x27;preview&#x27;&quot;</span> <span class="attr">:toolbars-flag</span>=<span class="string">&quot;false&quot;</span> <span class="attr">:editable</span>=<span class="string">&quot;false&quot;</span> <span class="attr">:scroll-style</span>=<span class="string">&quot;true&quot;</span> <span class="attr">:ishljs</span>=<span class="string">&quot;true&quot;</span> <span class="attr">:image-click</span>=<span class="string">&quot;markdownImgClick&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-image-viewer</span> <span class="attr">v-if</span>=<span class="string">&quot;showPreview&quot;</span> <span class="attr">:on-close</span>=<span class="string">&quot;closeViewer&quot;</span> <span class="attr">:url-list</span>=<span class="string">&quot;showBigImgList&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> mavonEditor <span class="keyword">from</span> <span class="string">&#x27;mavon-editor&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="string">&#x27;mavon-editor/dist/css/index.css&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">ElImageViewer</span> <span class="keyword">from</span> <span class="string">&#x27;element-ui/packages/image/src/image-viewer&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="title class_">Vue</span>.<span class="title function_">use</span>(mavonEditor)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">name</span>: <span class="string">&#x27;MavonReview&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title class_">ElImageViewer</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">props</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">document</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">type</span>: <span class="title class_">Object</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">default</span>: <span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">content</span>: <span class="string">&#x27;&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">type</span>: <span class="string">&#x27;markdown&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">loading</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">showPreview</span>: <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">htmlImageClick</span>(<span class="params">event</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">const</span> el = event.<span class="property">target</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">if</span> (el.<span class="property">nodeName</span> === <span class="string">&#x27;IMG&#x27;</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">showBigImgList</span> = [el.<span class="property">src</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">showPreview</span> = <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">markdownImgClick</span>(<span class="params">el</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">this</span>.<span class="property">showBigImgList</span> = [el.<span class="property">src</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">this</span>.<span class="property">showPreview</span> = <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">closeViewer</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">this</span>.<span class="property">showPreview</span> = <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.document-show</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.markdown-body</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">border</span>: <span class="number">0px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.show-html</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-tag">h1</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">display</span>: block;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">font-size</span>: <span class="number">2em</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">margin-block-start</span>: <span class="number">0.67em</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">margin-block-end</span>: <span class="number">0.67em</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">margin-inline-start</span>: <span class="number">0px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">margin-inline-end</span>: <span class="number">0px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">font-weight</span>: bold;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="comment">/* table 样式 */</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-tag">table</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">border-left</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-tag">table</span> <span class="selector-tag">td</span>,</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-tag">table</span> <span class="selector-tag">th</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">border-right</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">padding</span>: <span class="number">3px</span> <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-tag">table</span> <span class="selector-tag">th</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">border-bottom</span>: <span class="number">2px</span> solid <span class="number">#ccc</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">text-align</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="comment">/* blockquote 样式 */</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-tag">blockquote</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">display</span>: block;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">border-left</span>: <span class="number">8px</span> solid <span class="number">#d0e5f2</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">10px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">line-height</span>: <span class="number">1.4</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">font-size</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">background-color</span>: <span class="number">#f1f1f1</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="comment">/* code 样式 */</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-tag">code</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">display</span>: inline-block;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            *<span class="attribute">display</span>: inline;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            *zoom: <span class="number">1</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">background-color</span>: <span class="number">#f1f1f1</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">padding</span>: <span class="number">3px</span> <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">3px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        pre <span class="selector-tag">code</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">display</span>: block;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="comment">/* ul ol 样式 */</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-tag">ul</span>,</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-tag">ol</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">20px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a name="v9135"></a></p><h3 id="3-使用配置组件件"><a href="#3-使用配置组件件" class="headerlink" title="3.使用配置组件件"></a>3.使用配置组件件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;height: 100%;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;edit-header&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;title&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;输入标题...&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right-box&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">a-row</span> <span class="attr">v-if</span>=<span class="string">&quot;!isCreate&quot;</span> <span class="attr">class</span>=<span class="string">&quot;auto-save-switch&quot;</span> <span class="attr">type</span>=<span class="string">&quot;flex&quot;</span> <span class="attr">justify</span>=<span class="string">&quot;end&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;auto-save-text&quot;</span>&gt;</span>&#123;&#123; autoSaveText &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">a-switch</span> <span class="attr">v-model</span>=<span class="string">&quot;autoSaveSwitch&quot;</span> <span class="attr">active-color</span>=<span class="string">&quot;#13ce66&quot;</span> <span class="attr">inactive-color</span>=<span class="string">&quot;#ff4949&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;autoSaveChange&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">a-row</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">a-button</span> <span class="attr">v-if</span>=<span class="string">&quot;!isCreate&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">:loading</span>=<span class="string">&quot;loading || documentLoading&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;saveHandle(&#x27;save&#x27;)&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    保存</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">a-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">a-button</span> <span class="attr">v-if</span>=<span class="string">&quot;!isCreate&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">:loading</span>=<span class="string">&quot;loading || documentLoading&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-left:10px&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;saveHandle(&#x27;saveAndExit&#x27;)&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    保存并退出</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">a-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">a-button</span> <span class="attr">v-if</span>=<span class="string">&quot;isCreate&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">:loading</span>=<span class="string">&quot;loading || documentLoading&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;saveHandle(&#x27;saveAndExit&#x27;)&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    创建</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">a-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">a-button</span> <span class="attr">:loading</span>=<span class="string">&quot;loading || documentLoading&quot;</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-left:10px&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;back&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    退出</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">a-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">MavonEditor</span> <span class="attr">:document</span>=<span class="string">&quot;document&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">MavonEditor</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/MavonEditor/Editor.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; fetchGuide, updateGuide, createGuide &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/monitor/guide&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; getStorge &#125; <span class="keyword">from</span> <span class="string">&quot;@/utils/localStorge&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title class_">MavonEditor</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">document</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">content</span>: <span class="string">&#x27;&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">type</span>: <span class="string">&#x27;markdown&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">title</span>: <span class="string">&#x27;&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">autoSaveText</span>: <span class="string">&#x27;自动保存&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">autoSaveSwitch</span>: <span class="literal">true</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">documentLoading</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">loading</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">saveing</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">isCreate</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">treeId</span>: <span class="literal">undefined</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">id</span>: <span class="literal">undefined</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">guideData</span>: &#123;&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">documentChanged</span>: <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">isCreate</span> = <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span>.<span class="property">create</span> === <span class="string">&#x27;true&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">treeId</span> = <span class="built_in">parseInt</span>(<span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span>.<span class="property">treeId</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">id</span> = <span class="built_in">parseInt</span>(<span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span>.<span class="property">id</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">isCreate</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">id</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">// 10s后判断是否自动保存</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="built_in">setTimeout</span>(<span class="variable language_">this</span>.<span class="property">autoSaveChange</span>, <span class="number">10000</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">this</span>.<span class="title function_">getGuide</span>(<span class="variable language_">this</span>.<span class="property">id</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">computed</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        ...<span class="title function_">mapGetters</span>([<span class="string">&#x27;nickname&#x27;</span>])</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">watch</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">document</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">handler</span>: <span class="keyword">function</span> (<span class="params">val, oldVal</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">documentChanged</span> = <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">deep</span>: <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">getGuide</span>(<span class="params">id</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">fetchGuide</span>(id).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">guideData</span> = res.<span class="property">data</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">const</span> &#123; title, <span class="variable language_">document</span> &#125; = <span class="variable language_">this</span>.<span class="property">guideData</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">document</span>.<span class="property">content</span> = <span class="variable language_">document</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">title</span> = title</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">autoSaveChange</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">autoSaveSwitch</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">// 每分钟保存</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">timer</span> = <span class="built_in">setInterval</span>(<span class="variable language_">this</span>.<span class="property">autoSave</span>, <span class="number">60000</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">timer</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">autoSaveText</span> = <span class="string">&#x27;自动保存&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125; <span class="keyword">else</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="built_in">clearInterval</span>(<span class="variable language_">this</span>.<span class="property">timer</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">timer</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">autoSaveText</span> = <span class="string">&#x27;自动保存关闭&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">saveHandle</span>(<span class="params">saveAction</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">saveing</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">info</span>(<span class="string">&#x27;正在保存中，请稍后尝试&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">return</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">title</span> === <span class="literal">null</span> || <span class="variable language_">this</span>.<span class="property">title</span>.<span class="property">length</span> &lt;= <span class="number">0</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">error</span>(<span class="string">&#x27;请输入标题&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">return</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">document</span>.<span class="property">content</span> === <span class="literal">null</span> || <span class="variable language_">this</span>.<span class="property">document</span>.<span class="property">content</span>.<span class="property">length</span> &lt;= <span class="number">0</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">error</span>(<span class="string">&#x27;请输入文档内容&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">return</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">this</span>.<span class="property">documentLoading</span> = <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">this</span>.<span class="property">saveing</span> = <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">this</span>.<span class="property">isCreate</span> ? <span class="variable language_">this</span>.<span class="title function_">createGuide</span>(saveAction) : <span class="variable language_">this</span>.<span class="title function_">updateGuide</span>(saveAction)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">updateGuide</span>(<span class="params">saveAction</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="variable language_">this</span>.<span class="property">guideData</span>, &#123; <span class="attr">title</span>: <span class="variable language_">this</span>.<span class="property">title</span>, <span class="attr">document</span>: <span class="variable language_">this</span>.<span class="property">document</span>.<span class="property">content</span> &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">updateGuide</span>(<span class="variable language_">this</span>.<span class="property">id</span>, <span class="variable language_">this</span>.<span class="property">guideData</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                .<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">success</span>(<span class="string">&#x27;保存成功&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="keyword">if</span> (saveAction === <span class="string">&#x27;saveAndExit&#x27;</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/monitor/guide&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;).<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="variable language_">this</span>.<span class="property">documentLoading</span> = <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="variable language_">this</span>.<span class="property">saveing</span> = <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">createGuide</span>(<span class="params">saveAction</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">const</span> data = &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">title</span>: <span class="variable language_">this</span>.<span class="property">title</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">document</span>: <span class="variable language_">this</span>.<span class="property">document</span>.<span class="property">content</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">tree_id</span>: <span class="variable language_">this</span>.<span class="property">treeId</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">create_user</span>: <span class="variable language_">this</span>.<span class="property">nickname</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">tenant_id</span>: <span class="title function_">getStorge</span>(<span class="string">&quot;jrops-tenant-id&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">createGuide</span>(data).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">success</span>(<span class="string">&#x27;创建成功&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">if</span> (saveAction === <span class="string">&#x27;saveAndExit&#x27;</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/monitor/guide&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;).<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">documentLoading</span> = <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">saveing</span> = <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">autoSave</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">// 当文档内容不为空、文档改变，并且不是模板时自动保存</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">if</span> (</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">document</span>.<span class="property">content</span> === <span class="literal">null</span> ||</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">document</span>.<span class="property">content</span>.<span class="property">length</span> &lt;= <span class="number">0</span> ||</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                !<span class="variable language_">this</span>.<span class="property">documentChanged</span> ||</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">saveing</span> ||</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">loading</span> ||</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">documentLoading</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            ) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">return</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">this</span>.<span class="property">documentChanged</span> = <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">this</span>.<span class="title function_">saveHandle</span>(<span class="string">&#x27;save&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">back</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/monitor/guide&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.edit-header</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">27px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">height</span>: <span class="number">63px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">z-index</span>: <span class="number">100</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">display</span>: -webkit-box;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">display</span>: -ms-flexbox;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">display</span>: flex;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">align-items</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-tag">input</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">flex</span>: <span class="number">1</span> <span class="number">1</span> auto;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">height</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">margin</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">padding</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">font-size</span>: <span class="number">24px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">font-weight</span>: <span class="number">500</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">color</span>: <span class="number">#1d2129</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">border</span>: none <span class="meta">!important</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">outline</span>: none <span class="meta">!important</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.right-box</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">display</span>: -webkit-box;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">display</span>: -ms-flexbox;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">display</span>: flex;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">align-items</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">justify-content</span>: flex-end;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-class">.switch-editor</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-class">.toggle-btn</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">text-align</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-class">.toggle-btn</span><span class="selector-pseudo">:hover</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">cursor</span>: pointer;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">background</span>: <span class="number">#eeeeee</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-class">.auto-save-switch</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-class">.auto-save-text</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">font-size</span>: <span class="number">15px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">white-space</span>: nowrap;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">color</span>: <span class="number">#b7bcc5</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                user-select: none;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">width</span>: <span class="number">150px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a name="zaMu4"></a></p><h3 id="3-使用预览组件"><a href="#3-使用预览组件" class="headerlink" title="3.使用预览组件"></a>3.使用预览组件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">&quot;archReviewDetail&quot;</span> <span class="attr">class</span>=<span class="string">&quot;arch-review-detail&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;navigation-header&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item-left&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    &#123;&#123;  title &#125;&#125;</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item-right&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;back&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    返回</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;arch-review-con&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;arch-review-slidebar&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;arch-review-navigation&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;arch-review-navigation-title&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                        目录</span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">&quot;navigationContent&quot;</span> <span class="attr">class</span>=<span class="string">&quot;arch-review-navigation-content&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;arch-review-body&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">MavonReview</span> <span class="attr">ref</span>=<span class="string">&quot;showDocument&quot;</span> <span class="attr">:document</span>=<span class="string">&quot;document&quot;</span> @<span class="attr">documentFinish</span>=<span class="string">&quot;documentFinish&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">MavonReview</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/MavonEditor/Review.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; getNavigation &#125; <span class="keyword">from</span> <span class="string">&#x27;./navigation&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; fectchGuideByStrategyId, fetchGuide &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/monitor/guide&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title class_">MavonReview</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">title</span>: <span class="string">&#x27;&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">document</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">content</span>: <span class="string">&#x27;&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">type</span>: <span class="string">&#x27;markdown&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">strategy_id</span>: <span class="literal">undefined</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">guide_id</span>: <span class="literal">undefined</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">strategy_id</span> = <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span>.<span class="property">strategy_id</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">guide_id</span> = <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span>.<span class="property">guide_id</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">strategy_id</span>) <span class="variable language_">this</span>.<span class="title function_">getGuide</span>(<span class="variable language_">this</span>.<span class="property">strategy_id</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">guide_id</span>) <span class="variable language_">this</span>.<span class="title function_">getGuide</span>(<span class="variable language_">this</span>.<span class="property">guide_id</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// 文档加载完毕回调</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">documentFinish</span>(<span class="params">type, content</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">// 生成导航目录</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">getNavigation</span>(<span class="variable language_">this</span>, type, content)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">getGuide</span>(<span class="params">id</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">const</span> callback = <span class="variable language_">this</span>.<span class="property">guide_id</span> ? fetchGuide : fectchGuideByStrategyId</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">callback</span>(id).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">const</span> &#123; <span class="variable language_">document</span>, title &#125; = res.<span class="property">data</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">document</span>.<span class="property">content</span> = <span class="variable language_">document</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">title</span> = title</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">const</span> markdownIt = <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">showDocument</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">showDocument</span>.<span class="property">$refs</span>.<span class="property">showContent</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">showDocument</span>.<span class="property">$refs</span>.<span class="property">showContent</span>.<span class="property">markdownIt</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">if</span> (markdownIt) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="variable language_">this</span>.<span class="title function_">documentFinish</span>(</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        <span class="variable language_">this</span>.<span class="property">document</span>.<span class="property">type</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        markdownIt.<span class="title function_">render</span>(<span class="variable language_">this</span>.<span class="property">document</span>.<span class="property">content</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    )</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">back</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">strategy_id</span>) <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/dashboard/alarm&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">guide_id</span>) <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/monitor/guide&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.arch-review-detail</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">display</span>: flex;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">flex-direction</span>: column;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">position</span>: relative;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">height</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">border-top</span>: <span class="number">0px</span> solid <span class="number">#edf1f5</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">border-bottom</span>: <span class="number">0px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">overflow-y</span>: scroll;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">background-color</span>: <span class="number">#edf1f5</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.navigation-header</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">position</span>: fixed;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">z-index</span>: <span class="number">500</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">top</span>: <span class="number">0px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">left</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">background</span>: <span class="number">#edf1f5</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">width</span>: <span class="number">100%</span> <span class="meta">!important</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">display</span>: flex;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">justify-content</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-class">.header</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">display</span>: flex;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">justify-content</span>: space-between;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">align-items</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">height</span>: <span class="number">50px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">line-height</span>: <span class="number">50px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">width</span>: <span class="number">1240px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-class">.item-left</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">height</span>: <span class="number">50px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">line-height</span>: <span class="number">50px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">font-size</span>: <span class="number">26px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">color</span>: <span class="number">#000</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">flex-grow</span>: <span class="number">1</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-class">.item-right</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">font-size</span>: <span class="number">16px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">font-weight</span>: <span class="number">600</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">color</span>: <span class="number">#15c359</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">cursor</span>: pointer;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">margin-right</span>: <span class="number">6px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.arch-review-con</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">display</span>: flex;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">flex-wrap</span>: nowrap <span class="meta">!important</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">width</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">max-width</span>: <span class="number">1250px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">position</span>: relative;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">z-index</span>: <span class="number">50</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">justify-content</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-class">.arch-review-operation</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">position</span>: fixed;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">right</span>: <span class="number">24px</span> <span class="meta">!important</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">bottom</span>: <span class="number">48px</span> <span class="meta">!important</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-class">.arch-review-body</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">padding</span>: <span class="number">50px</span> <span class="number">24px</span> <span class="number">24px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">box-sizing</span>: border-box;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0px</span> <span class="number">0px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-class">.titleInfo</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">font-size</span>: <span class="number">24px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">font-family</span>: PingFangSC-Semibold, PingFang SC;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">font-weight</span>: <span class="number">600</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">color</span>: <span class="number">#121736</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">margin-top</span>: <span class="number">16px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">margin-bottom</span>: <span class="number">16px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-class">.el-divider--horizontal</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">0</span> <span class="number">24px</span> <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-tag">table</span>,</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-tag">table</span> <span class="selector-tag">tr</span> <span class="selector-tag">th</span>,</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-tag">table</span> <span class="selector-tag">tr</span> <span class="selector-tag">td</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#a8aeb2</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-tag">table</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">min-height</span>: <span class="number">25px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">line-height</span>: <span class="number">25px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">text-align</span>: left;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">border-collapse</span>: collapse;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-class">.info-table</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">border</span>: <span class="number">1px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">width</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">font-weight</span>: <span class="number">400</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">margin-left</span>: <span class="number">3px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">color</span>: <span class="number">#595c72</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="selector-class">.info-row</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">width</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="selector-class">.info-row-title</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                        <span class="attribute">color</span>: <span class="number">#121736</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                        <span class="attribute">font-weight</span>: <span class="number">540</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="selector-class">.info-row-content</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                        <span class="attribute">min-width</span>: <span class="number">200px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-class">.arch-review-slidebar</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">width</span>: <span class="number">250px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">font-size</span>: <span class="number">14px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">font-family</span>: PingFangSC-Semibold, PingFang SC;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">font-weight</span>: <span class="number">600</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">color</span>: <span class="number">#121736</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-class">.back</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">position</span>: absolute;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">top</span>: <span class="number">23px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">right</span>: <span class="number">10px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-class">.arch-review-navigation</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">display</span>: flex;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">position</span>: fixed;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">top</span>: <span class="number">42px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">width</span>: <span class="number">250px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">padding-top</span>: <span class="number">24px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">box-sizing</span>: border-box;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">height</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">flex-direction</span>: column;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">background-color</span>: <span class="number">#f9fafe</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                &amp;-title &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">color</span>: <span class="number">#000</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">width</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#f2f6fc</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">flex</span>: none;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">12px</span> <span class="number">0</span> <span class="number">18px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                &amp;-<span class="attribute">content</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">overflow-y</span>: auto;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">flex</span>: <span class="number">1</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">padding-bottom</span>: <span class="number">8px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                /deep/ <span class="selector-tag">h1</span>,</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                /deep/ <span class="selector-tag">h2</span>,</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                /deep/ <span class="selector-tag">h3</span>,</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                /deep/ <span class="selector-tag">h4</span>,</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                /deep/ <span class="selector-tag">h5</span>,</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                /deep/ <span class="selector-tag">h6</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">font-weight</span>: <span class="number">600</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">color</span>: <span class="number">#000</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">margin</span>: <span class="number">6px</span> <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">padding</span>: <span class="number">4px</span> <span class="number">0</span> <span class="number">4px</span> <span class="number">21px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">white-space</span>: nowrap;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">overflow</span>: hidden;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">text-overflow</span>: ellipsis;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">line-height</span>: <span class="number">1.3</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">cursor</span>: pointer;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    &amp;<span class="selector-pseudo">:hover</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                        <span class="attribute">color</span>: <span class="number">#15c359</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                /deep/ <span class="selector-class">.nav-active</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">color</span>: <span class="number">#15c359</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">background-color</span>: <span class="number">#f9fafe</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                /deep/ <span class="selector-tag">h2</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">padding-left</span>: <span class="number">27px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                /deep/ <span class="selector-tag">h3</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">padding-left</span>: <span class="number">42px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                /deep/ <span class="selector-tag">h4</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">padding-left</span>: <span class="number">58px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                /deep/ <span class="selector-tag">h5</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">padding-left</span>: <span class="number">72px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                /deep/ <span class="selector-tag">h6</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">padding-left</span>: <span class="number">87px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    /deep/<span class="selector-class">.markdown-body</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">padding-top</span>: <span class="number">0px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">font-size</span>: <span class="number">16px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">font-family</span>: PingFangSC-Medium, PingFang SC;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">font-weight</span>: <span class="number">500</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">color</span>: <span class="number">#121736</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-tag">p</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">margin</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">6px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">margin-left</span>: <span class="number">36px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-tag">h2</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">margin</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">10px</span> <span class="number">0px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">padding</span>: <span class="number">0px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-tag">h3</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">0px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-tag">table</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">margin</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">5px</span> <span class="number">37px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">border-collapse</span>: collapse;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-tag">th</span>,</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-tag">td</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#b7b9c2</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">text-align</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">line-height</span>: <span class="number">28px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">font-weight</span>: <span class="number">400</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">color</span>: <span class="number">#121736</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-tag">th</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">font-weight</span>: <span class="number">540</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="comment">/* 屏幕小于720px */</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">720px</span>) &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.arch-review-detail</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">padding</span>: <span class="number">24px</span> <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="comment">/* 屏幕小于1250px */</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">1250px</span>) &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.arch-review-body</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">width</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.navigation-header</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">24px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.arch-review-slidebar</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">display</span>: none;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="comment">/* 屏幕大于1250px */</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">1250px</span>) &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.arch-review-body</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">width</span>: <span class="number">990px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.arch-review-slidebar</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">display</span>: block;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a name="nrJuO"></a></p><h1 id="2-移动端"><a href="#2-移动端" class="headerlink" title="2.移动端"></a>2.移动端</h1><h3 id="1-注册"><a href="#1-注册" class="headerlink" title="1.注册"></a>1.注册</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> vantPlugins <span class="keyword">from</span> <span class="string">&#x27;./plugins/vant&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./styles/vant-variables.less&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@/permission&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VMdPreview</span> <span class="keyword">from</span> <span class="string">&#x27;@kangc/v-md-editor/lib/preview&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@kangc/v-md-editor/lib/style/preview.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> githubTheme <span class="keyword">from</span> <span class="string">&#x27;@kangc/v-md-editor/lib/theme/github.js&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@kangc/v-md-editor/lib/theme/style/github.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// highlightjs</span></span><br><span class="line"><span class="keyword">import</span> hljs <span class="keyword">from</span> <span class="string">&#x27;highlight.js&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">VMdPreview</span>.<span class="title function_">use</span>(githubTheme, &#123;</span><br><span class="line">  <span class="title class_">Hljs</span>: hljs,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title function_">createApp</span>(<span class="title class_">App</span>).<span class="title function_">use</span>(store).<span class="title function_">use</span>(router).<span class="title function_">use</span>(vantPlugins).<span class="title function_">use</span>(<span class="title class_">VMdPreview</span>).<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span><br></pre></td></tr></table></figure><h3 id="2-使用-移动端只提供预览"><a href="#2-使用-移动端只提供预览" class="headerlink" title="2.使用,移动端只提供预览"></a>2.使用,移动端只提供预览</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;document-title&quot;</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">v-md-preview</span> <span class="attr">:text</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">image-click</span>=<span class="string">&quot;markdownImgClick&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">v-md-preview</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; defineComponent, onMounted, reactive, toRefs &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; useRoute, useRouter &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; <span class="title class_">ImagePreview</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; fetchGuide &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/alarm/guide&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineComponent</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">components</span>: &#123;&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">const</span> <span class="attr">route</span>: any = <span class="title function_">useRoute</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">const</span> state = <span class="title function_">reactive</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">text</span>: <span class="string">&#x27;&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">title</span>: <span class="string">&#x27;&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">strategy_id</span>: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            state.<span class="property">strategy_id</span> = <span class="built_in">parseInt</span>(route.<span class="property">params</span>.<span class="property">id</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            methods.<span class="title function_">getGuide</span>(state.<span class="property">strategy_id</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">const</span> methods = <span class="title function_">reactive</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">getGuide</span>(<span class="params">id: number</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="title function_">fetchGuide</span>(id).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="keyword">const</span> &#123; title, <span class="variable language_">document</span> &#125; = res.<span class="property">data</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    state.<span class="property">text</span> = <span class="variable language_">document</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    state.<span class="property">title</span> = title</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">markdownImgClick</span>(<span class="params">images: any, currentIndex: any</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="title class_">ImagePreview</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    images, <span class="comment">//需要预览的图片 URL 数组</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">closeable</span>: <span class="literal">true</span>, <span class="comment">//是否显示关闭图标</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">startPosition</span>: currentIndex, <span class="comment">//图片预览起始位置索引</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            ...<span class="title function_">toRefs</span>(state),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            ...<span class="title function_">toRefs</span>(methods),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.document-title</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">32px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">font-size</span>: <span class="number">26px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">text-align</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">font-weight</span>: <span class="number">600</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue2 </tag>
            
            <tag> mavon-editor </tag>
            
            <tag> wangeditor </tag>
            
            <tag> element-ui </tag>
            
            <tag> v-md-editor </tag>
            
            <tag> highlight.js </tag>
            
            <tag> vant </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端截图插件对比</title>
      <link href="/2022/11/15/%E5%89%8D%E7%AB%AF%E6%88%AA%E5%9B%BE%E6%8F%92%E4%BB%B6%E5%AF%B9%E6%AF%94/"/>
      <url>/2022/11/15/%E5%89%8D%E7%AB%AF%E6%88%AA%E5%9B%BE%E6%8F%92%E4%BB%B6%E5%AF%B9%E6%AF%94/</url>
      
        <content type="html"><![CDATA[<p><a name="PQ3JP"></a></p><h1 id="dom-to-image和html2canvas"><a href="#dom-to-image和html2canvas" class="headerlink" title="dom-to-image和html2canvas"></a>dom-to-image和html2canvas</h1><blockquote><p>dom-to-image配置没 html2canvas 多,但是兼容性好一点，不会有生成的和页面不一样的情况,html2canvas 会因为一些 css 样式不支持，搞出来的奇丑</p></blockquote><p><a name="AbJmN"></a></p><h2 id="1-html2canvas"><a href="#1-html2canvas" class="headerlink" title="1.html2canvas"></a>1.html2canvas</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">// 引入html2canvas</span><br><span class="line">import html2canvas from &#x27;html2canvas&#x27;</span><br><span class="line">// id 为导出节点ID  imgName 导出文件名称</span><br><span class="line">export function getImg(id, imgName) &#123;</span><br><span class="line">  var getPixelRatio = function (context) &#123; // 获取设备的PixelRatio</span><br><span class="line">    var backingStore = context.backingStorePixelRatio ||</span><br><span class="line">      context.webkitBackingStorePixelRatio ||</span><br><span class="line">      context.mozBackingStorePixelRatio ||</span><br><span class="line">      context.msBackingStorePixelRatio ||</span><br><span class="line">      context.oBackingStorePixelRatio ||</span><br><span class="line">      context.backingStorePixelRatio || 0.5;</span><br><span class="line">    return (window.devicePixelRatio || 0.5) / backingStore;</span><br><span class="line">  &#125;;</span><br><span class="line">  //生成的图片名称</span><br><span class="line">  var imgNameStr = `$&#123;imgName&#125;.jpg`;</span><br><span class="line">  var shareContent = document.getElementById(id);</span><br><span class="line">  var width = shareContent.offsetWidth;</span><br><span class="line">  var height = shareContent.offsetHeight;</span><br><span class="line">  var canvas = document.createElement(&quot;canvas&quot;);</span><br><span class="line">  var context = canvas.getContext(&#x27;2d&#x27;);</span><br><span class="line">  var scale = getPixelRatio(context); //将canvas的容器扩大PixelRatio倍，再将画布缩放，将图像放大PixelRatio倍。</span><br><span class="line">  canvas.width = width * scale;</span><br><span class="line">  canvas.height = height * scale;</span><br><span class="line">  canvas.style.width = width + &#x27;px&#x27;;</span><br><span class="line">  canvas.style.height = height + &#x27;px&#x27;;</span><br><span class="line">  context.scale(scale, scale);</span><br><span class="line"></span><br><span class="line">  var opts = &#123;</span><br><span class="line">    scale: 1,</span><br><span class="line">    background: &#x27;#FFFFFF&#x27;</span><br><span class="line">  &#125;;</span><br><span class="line">  window[&#x27;pageYoffset&#x27;] = 0;</span><br><span class="line">  document.documentElement.scrollTop = 0;</span><br><span class="line">  document.body.scrollTop = 0;</span><br><span class="line">  html2canvas(shareContent, opts).then((canvas) =&gt; &#123;</span><br><span class="line">    context.imageSmoothingEnabled = false;</span><br><span class="line">    context[&#x27;webkitImageSmoothingEnabled&#x27;] = false;</span><br><span class="line">    context[&#x27;msImageSmoothingEnabled&#x27;] = false;</span><br><span class="line">    context.imageSmoothingEnabled = false;</span><br><span class="line">    var dataUrl = canvas.toDataURL(&#x27;image/jpeg&#x27;, 1.0);</span><br><span class="line">    dataURIToBlob(imgNameStr, dataUrl, callback);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function dataURIToBlob(imgName, dataURI, callback) &#123;</span><br><span class="line">  var binStr = atob(dataURI.split(&#x27;,&#x27;)[1]),</span><br><span class="line">    len = binStr.length,</span><br><span class="line">    arr = new Uint8Array(len);</span><br><span class="line"></span><br><span class="line">  for (var i = 0; i &lt; len; i++) &#123;</span><br><span class="line">    arr[i] = binStr.charCodeAt(i);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  callback(imgName, new Blob([arr]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function callback(imgName, blob) &#123;</span><br><span class="line">  let a = document.createElement(&#x27;a&#x27;)</span><br><span class="line">  a.setAttribute(&quot;href&quot;, URL.createObjectURL(blob));</span><br><span class="line"></span><br><span class="line">  a.setAttribute(&quot;download&quot;, imgName);</span><br><span class="line">  a.onclick = function () &#123;</span><br><span class="line">    if (navigator.msSaveBlob) &#123;</span><br><span class="line">      return navigator.msSaveBlob(blob, imgName);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  document.body.appendChild(a)</span><br><span class="line">  a.click();</span><br><span class="line">  a.remove();</span><br><span class="line">&#125;; </span><br></pre></td></tr></table></figure><p><a name="KISWx"></a></p><h2 id="2-dom-to-image-推荐"><a href="#2-dom-to-image-推荐" class="headerlink" title="2.dom-to-image(推荐)"></a>2.dom-to-image(推荐)</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import domtoimage from &#x27;dom-to-image&#x27;</span><br><span class="line">import FileSaver from &#x27;file-saver&#x27;;</span><br><span class="line"></span><br><span class="line">export function createImage(id, name) &#123;</span><br><span class="line">  let node = document.getElementById(id);</span><br><span class="line">  let that = this</span><br><span class="line">  domtoimage.toPng(node)</span><br><span class="line">    .then(function (dataUrl) &#123;</span><br><span class="line">      console.log(dataUrl)</span><br><span class="line">      // that.dataUrl = dataUrl</span><br><span class="line">      FileSaver.saveAs(dataUrl, name || &#x27;流程图片.png&#x27;);</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(function (error) &#123;</span><br><span class="line">      console.error(&#x27;生成失败&#x27;, error);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> dom-to-image </tag>
            
            <tag> html2canvas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于vant的loading二次开发</title>
      <link href="/2022/11/15/%E5%9F%BA%E4%BA%8Evant%E7%9A%84loading%E4%BA%8C%E6%AC%A1%E5%BC%80%E5%8F%91/"/>
      <url>/2022/11/15/%E5%9F%BA%E4%BA%8Evant%E7%9A%84loading%E4%BA%8C%E6%AC%A1%E5%BC%80%E5%8F%91/</url>
      
        <content type="html"><![CDATA[<p>由于vant-loading不满足项目要求,所以封装此组件,用于嵌套需要loading的元素<br><a name="kLcGg"></a></p><h2 id="1-封装公共组件"><a href="#1-封装公共组件" class="headerlink" title="1.封装公共组件"></a>1.封装公共组件</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;common-loading-wrap&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;loading&quot;</span> <span class="attr">class</span>=<span class="string">&quot;common-loading&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">van-loading</span> <span class="attr">v-if</span>=<span class="string">&quot;loading&quot;</span> <span class="attr">color</span>=<span class="string">&quot;var(--van-primary-color)&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;common-loading-mask&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; defineComponent, reactive, toRefs &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineComponent</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">name</span>: <span class="string">&#x27;CommonLoading&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">props</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">loading</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">type</span>: <span class="title class_">Boolean</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">default</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">const</span> state = <span class="title function_">reactive</span>(&#123;&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            ...<span class="title function_">toRefs</span>(state),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.common-loading-wrap</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">position</span>: relative;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.common-loading</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-class">.van-loading</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">position</span>: fixed;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">left</span>: <span class="number">50%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">top</span>: <span class="number">50%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>) <span class="built_in">translateY</span>(-<span class="number">50%</span>);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">z-index</span>: <span class="number">1001</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-class">.common-loading-mask</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">position</span>: fixed;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">width</span>: <span class="number">100vw</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">z-index</span>: <span class="number">1000</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">top</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">left</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a name="nmzoc"></a></p><h2 id="2-组件使用"><a href="#2-组件使用" class="headerlink" title="2.组件使用"></a>2.组件使用</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;!-- 页面 --&gt;</span><br><span class="line">    &lt;div class=&quot;patrol-page&quot;&gt;</span><br><span class="line">        &lt;common-loading :loading=&quot;listLoading&quot;&gt;</span><br><span class="line">            &lt;van-pull-refresh v-model=&quot;loading&quot; @refresh=&quot;onRefresh&quot;&gt;  </span><br><span class="line">                &lt;div v-if=&quot;total&quot;&gt;内容区&lt;/div&gt;</span><br><span class="line">                &lt;van-empty v-else description=&quot;暂无数据&quot; /&gt;</span><br><span class="line">            &lt;/van-pull-refresh&gt;</span><br><span class="line">        &lt;/common-loading&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; defineComponent, onMounted, reactive, toRefs &#125; from &#x27;vue&#x27;</span><br><span class="line">import commonLoading from &#x27;@/components/commonLoading/index.vue&#x27;</span><br><span class="line"></span><br><span class="line">export default defineComponent(&#123;</span><br><span class="line">    components: &#123; commonLoading &#125;,</span><br><span class="line">    setup() &#123;&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vant </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue3 </tag>
            
            <tag> loading </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>二次封装 实现超出... ,并增加提示的效果</title>
      <link href="/2022/11/13/%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85-%E5%AE%9E%E7%8E%B0%E8%B6%85%E5%87%BA-%E5%B9%B6%E5%A2%9E%E5%8A%A0%E6%8F%90%E7%A4%BA%E7%9A%84%E6%95%88%E6%9E%9C/"/>
      <url>/2022/11/13/%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85-%E5%AE%9E%E7%8E%B0%E8%B6%85%E5%87%BA-%E5%B9%B6%E5%A2%9E%E5%8A%A0%E6%8F%90%E7%A4%BA%E7%9A%84%E6%95%88%E6%9E%9C/</url>
      
        <content type="html"><![CDATA[<h1 id="效果如下"><a href="#效果如下" class="headerlink" title="效果如下:"></a>效果如下:</h1><p><img src="https://img-blog.csdnimg.cn/img_convert/8fb6b2b192278e063dff13565fc96697.png" alt="image.png"><br /></p><h1 id="html"><a href="#html" class="headerlink" title="html:"></a>html:</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> &lt;div <span class="keyword">class</span>=<span class="string">&quot;top-item&quot;</span> v-<span class="keyword">for</span>=<span class="string">&quot;(item,index) in logPlusStatistics&quot;</span> :key=<span class="string">&quot;index&quot;</span> :style=<span class="string">&quot;&#123;borderLeftColor:  colors[index]? colors[index]:colors[colors.length-1], backgroundColor:  bgColors[index]? bgColors[index]:bgColors[bgColors.length-1],&#125;&quot;</span>&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">a-tooltip</span> <span class="attr">placement</span>=<span class="string">&quot;top&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">       <span class="tag">&lt;<span class="name">span</span>&gt;</span> &#123;&#123;  item.label &#125;&#125; <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>&#123;&#123;  item.label &#125;&#125; <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">a-tooltip</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span>&#123;&#123;  item.value &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><h1 id="css"><a href="#css" class="headerlink" title="css:"></a>css:</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">top</span>-item &#123;</span><br><span class="line">           <span class="attr">display</span>: flex;</span><br><span class="line">           justify-<span class="attr">content</span>: space-between;</span><br><span class="line">           align-<span class="attr">items</span>: center;</span><br><span class="line">           <span class="attr">color</span>: #<span class="number">000</span>;</span><br><span class="line">           border-<span class="attr">left</span>: 3px solid;</span><br><span class="line">           line-<span class="attr">height</span>: 30px;</span><br><span class="line">           margin-<span class="attr">top</span>: 12px;</span><br><span class="line">           <span class="attr">padding</span>: 4px 12px;</span><br><span class="line"></span><br><span class="line">           .<span class="property">left</span> &#123;</span><br><span class="line">               font-<span class="attr">size</span>: 14px;</span><br><span class="line">               font-<span class="attr">weight</span>: bold;</span><br><span class="line">               line-<span class="attr">height</span>: 20px;</span><br><span class="line">               flex-<span class="attr">grow</span>: <span class="number">1</span>;</span><br><span class="line">               <span class="attr">overflow</span>: hidden;</span><br><span class="line">               text-<span class="attr">overflow</span>: ellipsis;</span><br><span class="line">               white-<span class="attr">space</span>: nowrap;</span><br><span class="line">           &#125;</span><br><span class="line">           .<span class="property">right</span> &#123;</span><br><span class="line">               <span class="attr">color</span>: #<span class="number">000</span>;</span><br><span class="line">               font-<span class="attr">size</span>: 14px;</span><br><span class="line">               font-<span class="attr">weight</span>: bold;</span><br><span class="line">               margin-<span class="attr">left</span>: 16px;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vue2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue2 </tag>
            
            <tag> antd-vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>封装全屏组件</title>
      <link href="/2022/11/13/%E5%B0%81%E8%A3%85%E5%85%A8%E5%B1%8F%E7%BB%84%E4%BB%B6/"/>
      <url>/2022/11/13/%E5%B0%81%E8%A3%85%E5%85%A8%E5%B1%8F%E7%BB%84%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p><a name="FrUzW"></a></p><h1 id="方法一-通过-sreenfull-插件"><a href="#方法一-通过-sreenfull-插件" class="headerlink" title="方法一: 通过 sreenfull 插件"></a>方法一: 通过 sreenfull 插件</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">svg-icon</span> <span class="attr">:icon-class</span>=<span class="string">&quot;isFullscreen?&#x27;exit-fullscreen&#x27;:&#x27;fullscreen&#x27;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;click&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> screenfull <span class="keyword">from</span> <span class="string">&#x27;screenfull&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;Screenfull&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">isFullscreen</span>: <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">this</span>.<span class="title function_">init</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">this</span>.<span class="title function_">destroy</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">click</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> (!screenfull.<span class="property">enabled</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.$message(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">message</span>: <span class="string">&#x27;you browser can not work&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      screenfull.<span class="title function_">toggle</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">change</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">isFullscreen</span> = screenfull.<span class="property">isFullscreen</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">init</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> (screenfull.<span class="property">enabled</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        screenfull.<span class="title function_">on</span>(<span class="string">&#x27;change&#x27;</span>, <span class="variable language_">this</span>.<span class="property">change</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">destroy</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> (screenfull.<span class="property">enabled</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        screenfull.<span class="title function_">off</span>(<span class="string">&#x27;change&#x27;</span>, <span class="variable language_">this</span>.<span class="property">change</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.screenfull-svg</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">display</span>: inline-block;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">cursor</span>: pointer;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  fill: <span class="number">#5a5e66</span>;;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">width</span>: <span class="number">20px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">height</span>: <span class="number">20px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">vertical-align</span>: <span class="number">10px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"> &lt;screenfull id=<span class="string">&quot;screenfull&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;right-menu-item hover-effect&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">.<span class="property">right</span>-menu-item &#123;</span><br><span class="line">      <span class="attr">display</span>: inline-block;</span><br><span class="line">      <span class="attr">padding</span>: <span class="number">0</span> 8px;</span><br><span class="line">      <span class="attr">height</span>: <span class="number">100</span>%;</span><br><span class="line">      font-<span class="attr">size</span>: 18px;</span><br><span class="line">      <span class="attr">color</span>: #5a5e66;</span><br><span class="line">      vertical-<span class="attr">align</span>: text-bottom;</span><br><span class="line"></span><br><span class="line">      &amp;.<span class="property">hover</span>-effect &#123;</span><br><span class="line">        <span class="attr">cursor</span>: pointer;</span><br><span class="line">        <span class="attr">transition</span>: background .3s;</span><br><span class="line"></span><br><span class="line">        &amp;:hover &#123;</span><br><span class="line">          <span class="attr">background</span>: <span class="title function_">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">.025</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a name="dnEdc"></a></p><h1 id="方法二-js"><a href="#方法二-js" class="headerlink" title="方法二: js"></a>方法二: js</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;showFullScreenBtn&quot;</span> <span class="attr">class</span>=<span class="string">&quot;full-screen-btn-con&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">Tooltip</span> <span class="attr">:content</span>=<span class="string">&quot;value ? &#x27;退出全屏&#x27; : &#x27;全屏&#x27;&quot;</span> <span class="attr">placement</span>=<span class="string">&quot;bottom&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Icon</span> @<span class="attr">click.native</span>=<span class="string">&quot;handleChange&quot;</span> <span class="attr">:type</span>=<span class="string">&quot;value ? &#x27;md-contract&#x27; : &#x27;md-expand&#x27;&quot;</span> <span class="attr">:size</span>=<span class="string">&quot;23&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Icon</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Tooltip</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;Fullscreen&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">computed</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    showFullScreenBtn () &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> <span class="variable language_">window</span>.<span class="property">navigator</span>.<span class="property">userAgent</span>.<span class="title function_">indexOf</span>(<span class="string">&#x27;MSIE&#x27;</span>) &lt; <span class="number">0</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">value</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">type</span>: <span class="title class_">Boolean</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">default</span>: <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    handleFullscreen () &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> main = <span class="variable language_">document</span>.<span class="property">body</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">value</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">exitFullscreen</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">document</span>.<span class="title function_">exitFullscreen</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">mozCancelFullScreen</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">document</span>.<span class="title function_">mozCancelFullScreen</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">webkitCancelFullScreen</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">document</span>.<span class="title function_">webkitCancelFullScreen</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">msExitFullscreen</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">document</span>.<span class="title function_">msExitFullscreen</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125; <span class="keyword">else</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> (main.<span class="property">requestFullscreen</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          main.<span class="title function_">requestFullscreen</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (main.<span class="property">mozRequestFullScreen</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          main.<span class="title function_">mozRequestFullScreen</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (main.<span class="property">webkitRequestFullScreen</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          main.<span class="title function_">webkitRequestFullScreen</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (main.<span class="property">msRequestFullscreen</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          main.<span class="title function_">msRequestFullscreen</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    handleChange () &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="title function_">handleFullscreen</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  mounted () &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">let</span> isFullscreen = <span class="variable language_">document</span>.<span class="property">fullscreenElement</span> || <span class="variable language_">document</span>.<span class="property">mozFullScreenElement</span> || <span class="variable language_">document</span>.<span class="property">webkitFullscreenElement</span> || <span class="variable language_">document</span>.<span class="property">fullScreen</span> || <span class="variable language_">document</span>.<span class="property">mozFullScreen</span> || <span class="variable language_">document</span>.<span class="property">webkitIsFullScreen</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    isFullscreen = !!isFullscreen</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;fullscreenchange&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;input&#x27;</span>, !<span class="variable language_">this</span>.<span class="property">value</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;on-change&#x27;</span>, !<span class="variable language_">this</span>.<span class="property">value</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mozfullscreenchange&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;input&#x27;</span>, !<span class="variable language_">this</span>.<span class="property">value</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;on-change&#x27;</span>, !<span class="variable language_">this</span>.<span class="property">value</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;webkitfullscreenchange&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;input&#x27;</span>, !<span class="variable language_">this</span>.<span class="property">value</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;on-change&#x27;</span>, !<span class="variable language_">this</span>.<span class="property">value</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;msfullscreenchange&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;input&#x27;</span>, !<span class="variable language_">this</span>.<span class="property">value</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;on-change&#x27;</span>, !<span class="variable language_">this</span>.<span class="property">value</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">this</span>.$emit(<span class="string">&#x27;input&#x27;</span>, isFullscreen)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.full-screen-btn-con</span> <span class="selector-class">.ivu-tooltip-rel</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">height</span>: <span class="number">64px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">line-height</span>: <span class="number">56px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-tag">i</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">cursor</span>: pointer;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;fullscreen v-model=<span class="string">&quot;isFullscreen&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vue2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue2 </tag>
            
            <tag> 全屏插件sreenfull </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue3学习（二）</title>
      <link href="/2022/11/13/vue3%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
      <url>/2022/11/13/vue3%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p><a name="gTLbR"></a></p><h1 id="十一-父子组件传参"><a href="#十一-父子组件传参" class="headerlink" title="十一. 父子组件传参"></a>十一. 父子组件传参</h1><p><a name="vYawi"></a></p><h2 id="主要通过-defineProps，defineEmits-defineExpose-这三个内置对象"><a href="#主要通过-defineProps，defineEmits-defineExpose-这三个内置对象" class="headerlink" title="主要通过 defineProps，defineEmits, defineExpose 这三个内置对象"></a>主要通过 defineProps，defineEmits, defineExpose 这三个内置对象</h2><p><a name="UEz9k"></a></p><h2 id="1-defineProps，defineEmits-的用法"><a href="#1-defineProps，defineEmits-的用法" class="headerlink" title="1. defineProps，defineEmits 的用法"></a>1. defineProps，defineEmits 的用法</h2><p>父组件:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Menu @on-click=&quot;getList&quot; :data=&quot;list&quot; title=&quot;标题&quot; /&gt;</span><br></pre></td></tr></table></figure><p>子组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 父传子</span><br><span class="line">type Props = &#123;</span><br><span class="line">  title: string,</span><br><span class="line">  data: number[]</span><br><span class="line">&#125;</span><br><span class="line">defineProps&lt;Props&gt;()</span><br><span class="line"></span><br><span class="line">// 子传父</span><br><span class="line">const emit = defineEmits([&#x27;on-click&#x27;])</span><br><span class="line">const handleClick = () =&gt; &#123;</span><br><span class="line">  emit(&#x27;on-click&#x27;, list)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>defineEmits 同时定义多个 emit</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const emit = defineEmits([&#x27;on-click1&#x27;,&#x27;on-click2&#x27;])</span><br></pre></td></tr></table></figure><p><a name="brDO2"></a></p><h2 id="2-defineExpose-的用法"><a href="#2-defineExpose-的用法" class="headerlink" title="2. defineExpose 的用法"></a>2. defineExpose 的用法</h2><p>在子组件通过 defineExpose 派发数据，能够在父组件接收到</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const list = reactive&lt;number[]&gt;([1,2,3])</span><br><span class="line">defineExpose(&#123;</span><br><span class="line">  list</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>注意：props 可以设置是否必传，和定义默认值，使用方法如下</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">type Props = &#123;</span><br><span class="line">  title?: string,</span><br><span class="line">  data: number[]</span><br><span class="line">&#125;</span><br><span class="line">withDefaults(defineProps&lt;Props&gt;(), &#123;</span><br><span class="line">title: &#x27;默认标题&#x27;，</span><br><span class="line">  data: () =&gt; [1, 2]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a name="KU9KE"></a></p><h2 id="defineExpose-的具体使用"><a href="#defineExpose-的具体使用" class="headerlink" title="defineExpose 的具体使用"></a>defineExpose 的具体使用</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div&gt;父组件&lt;/div&gt;</span><br><span class="line">    &lt;detail ref=&quot;sonRef&quot;&gt;&lt;/detail&gt;</span><br><span class="line">    &lt;el-button @click=&quot;getSonMessage&quot;&gt;获取子组件数据&lt;/el-button&gt;</span><br><span class="line">    &lt;div&gt;&#123;&#123; message &#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;div v-for=&quot;item in state.fatherList&quot; :key=&quot;item.id&quot;&gt;&#123;&#123; item.name &#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; ref, toRefs, reactive &#125; from &#x27;vue&#x27;;</span><br><span class="line">import detail from &#x27;@/views/role/detail.vue&#x27;;</span><br><span class="line">let sonRef = ref(&#x27;sonRef&#x27;);</span><br><span class="line">let message = ref(&#x27;&#x27;);</span><br><span class="line">let state = reactive(&#123;</span><br><span class="line">  fatherList: [],</span><br><span class="line">&#125;);</span><br><span class="line">let getSonMessage = () =&gt; &#123;</span><br><span class="line">  console.log(sonRef.value.sonInfo, sonRef.value.dataList, &#x27;+sonInfo&#x27;);</span><br><span class="line">  state.fatherList = sonRef.value.dataList;</span><br><span class="line">  message.value = sonRef.value.message;</span><br><span class="line">  sonRef.value.show();</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;子组件&lt;/div&gt;</span><br><span class="line">  &lt;div v-for=&quot;item in state.dataList&quot; :key=&quot;item.id&quot;&gt;&#123;&#123; item.name &#125;&#125;子组件&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123; defineExpose, onMounted, reactive, ref, toRefs &#125; from &#x27;vue&#x27;;</span><br><span class="line">import &#123; getuserListApi &#125; from &#x27;@/api/user&#x27;;</span><br><span class="line">let message = ref(&#x27;简单类型&#x27;);</span><br><span class="line">let state = reactive(&#123;</span><br><span class="line">  dataList: [&#123; id: 1, name: 123 &#125;],</span><br><span class="line">  sonInfo: &#123;</span><br><span class="line">    name: &#x27;子组件&#x27;,</span><br><span class="line">    tip: &#x27;对象&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">onMounted(async () =&gt; &#123;</span><br><span class="line">  let &#123; code, data &#125; = await getuserListApi();</span><br><span class="line">  if (code == 0) &#123;</span><br><span class="line">    state.dataList = data;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">let show = () =&gt; &#123;</span><br><span class="line">  console.log(&#x27;子组件的show方法&#x27;);</span><br><span class="line">&#125;;</span><br><span class="line">let &#123; dataList &#125; = toRefs(state);</span><br><span class="line"></span><br><span class="line">defineExpose(&#123;</span><br><span class="line">  //用state.dataList父组件接收的是初始化的数据，</span><br><span class="line">  // 不是从onMounted里面取的数据，但是子组件的datalist是从onMounted拿到的最新数据。</span><br><span class="line">  // 把dataList从state里面通过toRefs解构，父组件也可拿到最新的数据</span><br><span class="line">  dataList: dataList,</span><br><span class="line">  message,</span><br><span class="line">  show,</span><br><span class="line">  sonInfo: state.sonInfo,</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue3学习(一)</title>
      <link href="/2022/11/10/vue3%E5%AD%A6%E4%B9%A0-%E4%B8%80/"/>
      <url>/2022/11/10/vue3%E5%AD%A6%E4%B9%A0-%E4%B8%80/</url>
      
        <content type="html"><![CDATA[<p><a name="xpQE8"></a></p><h1 id="一-初始化项目"><a href="#一-初始化项目" class="headerlink" title="一. 初始化项目"></a>一. 初始化项目</h1><p><a name="wFErQ"></a></p><h2 id="1-按步骤提示初始化："><a href="#1-按步骤提示初始化：" class="headerlink" title="1.按步骤提示初始化："></a>1.按步骤提示初始化：</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pnpm pnpm create vite # npm npm init vite@latest # yarn yarn create vite</span><br></pre></td></tr></table></figure><p><a name="dnMzT"></a></p><h2 id="2-快速初始化（建议使用）："><a href="#2-快速初始化（建议使用）：" class="headerlink" title="2.快速初始化（建议使用）："></a>2.快速初始化（建议使用）：</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pnpm pnpm create vite project-name -- --template vue-ts # npm 6.x npm init vite@latest project-name --template vue-ts   # npm 7+, 需要额外的双横线： npm init vite@latest project-name -- --template vue-ts   # yarn yarn create vite project-name --template vue-ts</span><br></pre></td></tr></table></figure><p>注意：由于 vue3 和 vue2 配置不同，需要安装不同的应用插件</p><blockquote><p>vue3 需要应用 volar 以下两个插件，禁用 vetur； vue2 需要应用 vetur 插件，禁用 volar</p></blockquote><p><a name="p1Urg"></a></p><h1 id="二-ref"><a href="#二-ref" class="headerlink" title="二. ref"></a>二. ref</h1><blockquote><p>小技巧： 控制台设置勾选 启用自定义格式设置工具（开启后 console.log ref 定义的值时可以直接在控制台打印出里面.value 的值）</p></blockquote><p><a name="A7G6Y"></a></p><h1 id="三-reactive"><a href="#三-reactive" class="headerlink" title="三. reactive"></a>三. reactive</h1><p>不能直接赋值，否则会破环其响应式<br />解决方案 1：数组可以使用 push 加解构</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import &#123; reactive &#125; from &#x27;vue&#x27;</span><br><span class="line">let person = reactive&lt;number[]&gt;([])</span><br><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">  const arr = [1, 2, 3]</span><br><span class="line">  person.push(...arr)</span><br><span class="line">  console.log(person);</span><br><span class="line"></span><br><span class="line">&#125;,1000</span><br></pre></td></tr></table></figure><p>解决方案 2：包裹一层对象</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">type Person = &#123;</span><br><span class="line">  list?:Array&lt;number&gt;</span><br><span class="line">&#125;</span><br><span class="line">let person = reactive&lt;Person&gt;(&#123;</span><br><span class="line">   list:[]</span><br><span class="line">&#125;)</span><br><span class="line">setTimeout(() =&gt; &#123;</span><br><span class="line">  const arr = [1, 2, 3]</span><br><span class="line">  person.list = arr;</span><br><span class="line">  console.log(person);</span><br><span class="line"></span><br><span class="line">&#125;,1000)</span><br></pre></td></tr></table></figure><p><a name="tZOPY"></a></p><h1 id="四-toRef"><a href="#四-toRef" class="headerlink" title="四. toRef"></a>四. toRef</h1><blockquote><p>toRef 只能修改响应式对象的值， 非响应式的数据视图毫无变化</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;div&gt;</span><br><span class="line">      &lt;button @click=&quot;change&quot;&gt;按钮&lt;/button&gt;</span><br><span class="line">      &#123;&#123;state&#125;&#125;</span><br><span class="line">   &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; reactive, toRef &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">const obj = reactive(&#123;</span><br><span class="line">   foo: 1,</span><br><span class="line">   bar: 1</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">const state = toRef(obj, &#x27;bar&#x27;)</span><br><span class="line"></span><br><span class="line">const change = () =&gt; &#123;</span><br><span class="line">   state.value++</span><br><span class="line">   console.log(obj, state);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><a name="oruan"></a></p><h1 id="五-toRefs"><a href="#五-toRefs" class="headerlink" title="五. toRefs"></a>五. toRefs</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import &#123; reactive, toRefs &#125; from &#x27;vue&#x27;</span><br><span class="line">const obj = reactive(&#123;</span><br><span class="line">   foo: 1,</span><br><span class="line">   bar: 1</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">let &#123; foo, bar &#125; = toRefs(obj)</span><br><span class="line"></span><br><span class="line">foo.value++</span><br><span class="line">console.log(foo, bar);</span><br></pre></td></tr></table></figure><p><a name="TuFm1"></a></p><h2 id="toRefs-的源码，其实就是一个循环-toRef"><a href="#toRefs-的源码，其实就是一个循环-toRef" class="headerlink" title="toRefs 的源码，其实就是一个循环 toRef"></a>toRefs 的源码，其实就是一个循环 toRef</h2><blockquote><p>若你想使你定义的值结构出来式响应式的， 你必须用 toRefs 去解构，如果你是直接解构的话，结构出来的值是不具备响应式的（虽然它的数据打印出来变了，但是页面并不会变成最新的值）</p></blockquote><p><a name="jbPjM"></a></p><h1 id="六-toRaw"><a href="#六-toRaw" class="headerlink" title="六. toRaw"></a>六. toRaw</h1><p>让你定义的响应式对象变成非响应式, 让响应式对象变成了一个原始对象，脱离了 proxy</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import &#123; reactive, toRaw &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">const obj = reactive(&#123;</span><br><span class="line">   foo: 1,</span><br><span class="line">   bar: 1</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">const state = toRaw(obj)</span><br><span class="line">// 响应式对象转化为普通对象</span><br><span class="line"></span><br><span class="line">const change = () =&gt; &#123;</span><br><span class="line">   console.log(obj, state);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a name="uhoIc"></a></p><h1 id="七-computed"><a href="#七-computed" class="headerlink" title="七. computed"></a>七. computed</h1><p><a name="kjFMB"></a></p><h2 id="1-函数形式"><a href="#1-函数形式" class="headerlink" title="1. 函数形式"></a>1. 函数形式</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import &#123; computed, reactive, ref &#125; from &#x27;vue&#x27;</span><br><span class="line">let price = ref(0)//$0</span><br><span class="line"></span><br><span class="line">let m = computed&lt;string&gt;(()=&gt;&#123;</span><br><span class="line">   return `$` + price.value</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">price.value = 500</span><br></pre></td></tr></table></figure><p><a name="GajUa"></a></p><h2 id="2-对象形式"><a href="#2-对象形式" class="headerlink" title="2. 对象形式"></a>2. 对象形式</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;div&gt;&#123;&#123; mul &#125;&#125;&lt;/div&gt;</span><br><span class="line">   &lt;div @click=&quot;mul = 100&quot;&gt;click&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; computed, ref &#125; from &#x27;vue&#x27;</span><br><span class="line">let price = ref&lt;number | string&gt;(1)//$0</span><br><span class="line">let mul = computed(&#123;</span><br><span class="line">   get: () =&gt; &#123;</span><br><span class="line">      return price.value</span><br><span class="line">   &#125;,</span><br><span class="line">   set: (value) =&gt; &#123;</span><br><span class="line">      price.value = &#x27;set&#x27; + value</span><br><span class="line">   &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p><a name="YRDCe"></a></p><h1 id="八-watch"><a href="#八-watch" class="headerlink" title="八. watch"></a>八. watch</h1><p>1.监听 Ref 案例</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ref, watch &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">let message = ref(&#123;</span><br><span class="line">    nav:&#123;</span><br><span class="line">        bar:&#123;</span><br><span class="line">            name:&quot;&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">watch(message, (newVal, oldVal) =&gt; &#123;</span><br><span class="line">    console.log(&#x27;新的值----&#x27;, newVal);</span><br><span class="line">    console.log(&#x27;旧的值----&#x27;, oldVal);</span><br><span class="line">&#125;,&#123;</span><br><span class="line">    immediate:true,</span><br><span class="line">    deep:true</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>监听多个 ref 注意变成数组啦</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ref, watch ,reactive&#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">let message = ref(&#x27;&#x27;)</span><br><span class="line">let message2 = ref(&#x27;&#x27;)</span><br><span class="line"></span><br><span class="line">watch([message,message2], (newVal, oldVal) =&gt; &#123;</span><br><span class="line">    console.log(&#x27;新的值----&#x27;, newVal);</span><br><span class="line">    console.log(&#x27;旧的值----&#x27;, oldVal);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>监听 Reactive<br />使用 reactive 监听深层对象开启和不开启 deep 效果一样</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ref, watch ,reactive&#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">let message = reactive(&#123;</span><br><span class="line">    nav:&#123;</span><br><span class="line">        bar:&#123;</span><br><span class="line">            name:&quot;&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">watch(message, (newVal, oldVal) =&gt; &#123;</span><br><span class="line">    console.log(&#x27;新的值----&#x27;, newVal);</span><br><span class="line">    console.log(&#x27;旧的值----&#x27;, oldVal);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>案例 2 监听 reactive 单一值</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ref, watch ,reactive&#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">let message = reactive(&#123;</span><br><span class="line">    name:&quot;&quot;,</span><br><span class="line">    name2:&quot;&quot;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">watch(()=&gt;message.name, (newVal, oldVal) =&gt; &#123;</span><br><span class="line">    console.log(&#x27;新的值----&#x27;, newVal);</span><br><span class="line">    console.log(&#x27;旧的值----&#x27;, oldVal);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><a name="cz0y6"></a></p><h1 id="九-watchEffect-高级侦听器"><a href="#九-watchEffect-高级侦听器" class="headerlink" title="九. watchEffect 高级侦听器"></a>九. watchEffect 高级侦听器</h1><blockquote><p>watchEffect 一开始就会执行，而 watch 要加 immediate：true 才会在一开始就执行</p></blockquote><p>立即执行传入的一个函数，同时响应式追踪其依赖，并在其依赖变更时重新运行该函数。<br />如果用到 message 就只会<a href="https://so.csdn.net/so/search?q=%E7%9B%91%E5%90%AC&amp;spm=1001.2101.3001.7020">监听</a>message 就是用到几个监听几个 而且是非惰性 会默认调用一次</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let message = ref&lt;string&gt;(&#x27;&#x27;)</span><br><span class="line">let message2 = ref&lt;string&gt;(&#x27;&#x27;)</span><br><span class="line"> watchEffect(() =&gt; &#123;</span><br><span class="line">    //console.log(&#x27;message&#x27;, message.value);</span><br><span class="line">    console.log(&#x27;message2&#x27;, message2.value);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><a name="JcbBp"></a></p><h3 id="清除副作用"><a href="#清除副作用" class="headerlink" title="清除副作用"></a>清除副作用</h3><p>就是在触发监听之前会调用一个函数可以处理你的逻辑例如防抖</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import &#123; watchEffect, ref &#125; from &#x27;vue&#x27;</span><br><span class="line">let message = ref&lt;string&gt;(&#x27;&#x27;)</span><br><span class="line">let message2 = ref&lt;string&gt;(&#x27;&#x27;)</span><br><span class="line"> watchEffect((oninvalidate) =&gt; &#123;</span><br><span class="line">    //console.log(&#x27;message&#x27;, message.value);</span><br><span class="line">    oninvalidate(()=&gt;&#123;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">    console.log(&#x27;message2&#x27;, message2.value);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>停止跟踪 watchEffect 返回一个函数 调用之后将停止更新</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const stop =  watchEffect((oninvalidate) =&gt; &#123;</span><br><span class="line">    //console.log(&#x27;message&#x27;, message.value);</span><br><span class="line">    oninvalidate(()=&gt;&#123;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">    console.log(&#x27;message2&#x27;, message2.value);</span><br><span class="line">&#125;,&#123;</span><br><span class="line">    flush:&quot;post&quot;,</span><br><span class="line">    onTrigger () &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">stop()</span><br></pre></td></tr></table></figure><p><strong>更多的配置项</strong><br><a name="dc3l4"></a></p><h3 id="副作用刷新时机-flush-一般使用-post"><a href="#副作用刷新时机-flush-一般使用-post" class="headerlink" title="副作用刷新时机 flush 一般使用 post"></a>副作用刷新时机 flush 一般使用 post</h3><div class="table-container"><table><thead><tr><th></th><th><strong>pre</strong></th><th><strong>sync</strong></th><th><strong>post</strong></th></tr></thead><tbody><tr><td>更新时机</td><td>组件<strong>更新前</strong>执行</td><td>强制效果始终同步触发</td><td>组件<strong>更新后</strong>执行</td></tr></tbody></table></div><p><strong>onTrigger 可以帮助我们调试 watchEffect</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import &#123; watchEffect, ref &#125; from &#x27;vue&#x27;</span><br><span class="line">let message = ref&lt;string&gt;(&#x27;&#x27;)</span><br><span class="line">let message2 = ref&lt;string&gt;(&#x27;&#x27;)</span><br><span class="line"> watchEffect((oninvalidate) =&gt; &#123;</span><br><span class="line">    //console.log(&#x27;message&#x27;, message.value);</span><br><span class="line">    oninvalidate(()=&gt;&#123;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">    console.log(&#x27;message2&#x27;, message2.value);</span><br><span class="line">&#125;,&#123;</span><br><span class="line">    flush:&quot;post&quot;,</span><br><span class="line">    onTrigger () &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><a name="y18X6"></a></p><h1 id="十-组件和生命周期"><a href="#十-组件和生命周期" class="headerlink" title="十. 组件和生命周期"></a>十. 组件和生命周期</h1><p><a name="vQ4Br"></a></p><h2 id="1-组件"><a href="#1-组件" class="headerlink" title="1.组件"></a>1.组件</h2><blockquote><p>组件： 在 vue3 中只需要引入组件，不需要像 vue2 一样在 conponents 里面进行注册</p></blockquote><p>例如 helloWorld 充当子组件<br />父组件使用<br />引入子组件 helloWorld 然后直接就可以去当标签去使用 （切记组件名称不能与 html 元素标签名称一样）<br><a name="lgSIU"></a></p><h2 id="2-生命周期"><a href="#2-生命周期" class="headerlink" title="2.生命周期"></a>2.生命周期</h2><blockquote><p>vue3 中 beforeCreate 和 created 不再需要</p></blockquote><p>onBeforeMount()<br />在组件 DOM 实际渲染安装之前调用。在这一步中，根元素还不存在。<br />onMounted()<br />在组件的第一次渲染后调用，该元素现在可用，允许直接 DOM 访问<br />onBeforeUpdate()<br />数据更新时调用，发生在虚拟 DOM 打补丁之前。<br />onUpdated()<br />DOM 更新后，updated 的方法即会调用。<br />onBeforeUnmount()<br />在卸载组件实例之前调用。在这个阶段，实例仍然是完全正常的。<br />onUnmounted()<br />卸载组件实例后调用。调用此钩子时，组件实例的所有指令都被解除绑定，所有事件侦听器都被移除，所有子组件实例被卸载。</p><div class="table-container"><table><thead><tr><th><strong>选项式 API</strong></th><th><strong>Hook</strong> <strong>inside</strong> setup</th></tr></thead><tbody><tr><td>beforeCreate</td><td>Not needed*</td></tr><tr><td>created</td><td>Not needed*</td></tr><tr><td>beforeMount</td><td>onBeforeMount</td></tr><tr><td>mounted</td><td>onMounted</td></tr><tr><td>beforeUpdate</td><td>onBeforeUpdate</td></tr><tr><td>updated</td><td>onUpdated</td></tr><tr><td>beforeUnmount</td><td>onBeforeUnmount</td></tr><tr><td>unmounted</td><td>onUnmounted</td></tr><tr><td>errorCaptured</td><td>onErrorCaptured</td></tr><tr><td>renderTracked</td><td>onRenderTracked</td></tr><tr><td>renderTriggered</td><td>onRenderTriggered</td></tr><tr><td>activated</td><td>onActivated</td></tr><tr><td>deactivated</td><td>onDeactivated</td></tr></tbody></table></div>]]></content>
      
      
      <categories>
          
          <category> vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue3 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
